<!-- Form to book a room or space -->
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
  <h1 class="h2">Edit Event Booking</h1>
</div>

<div class="row">
  <div class="col">
    <div class="card">
      <div class="card-body">
        <h4>Editing <small>Event name</small></h4>
        <hr>
        <!-- if $evnt is retrieved from db, show form -->
        <div *ngIf="evnt">
          <form (ngSubmit)="onSubmit(fm.value)" #fm="ngForm">
            <div class="col-md-8 mb-3">
              <label for="event">Event Name</label>
              <input type="text" class="form-control" id="event" name="name" [(ngModel)]="evnt.name" required>
            </div>
            <!-- <div class="col-md-8 mb-3">
              <label for="descp">Event description</label>
              <textarea class="form-control" rows="3" id="descp" ngModel name="description" required></textarea>
            </div> -->

            <div *ngFor="let booking of bookings">
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="strt-date">Date of event (start):</label>
                  <div class="input-group">
                    <input class="form-control" name="start_date" [(ngModel)]="booking.start_date" 
                      ngbDatepicker #d="ngbDatepicker" required>
                    <div class="input-group-append">
                      <button class="btn btn-outline-secondary" (click)="d.toggle()" type="button">
                        <img src="../../../assets/icons/calendar.svg" style="width: 1.2rem; height: 1rem; cursor: pointer;"/>
                      </button>
                    </div>
                  </div>
                </div>
    
                <div class="col-md-6 mb-3">
                  <label for="end-date">End date:</label>
                  <div class="input-group">
                    <input class="form-control" name="end_date" [(ngModel)]="booking.end_date"
                       ngbDatepicker #e="ngbDatepicker" required>
                    <div class="input-group-append">
                      <button class="btn btn-outline-secondary" (click)="e.toggle()" type="button">
                        <img src="../../../assets/icons/calendar.svg" style="width: 1.2rem; height: 1rem; cursor: pointer;"/>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
  
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="strt">Start Time:</label>
                  <ngb-timepicker ngModel name="start_time"></ngb-timepicker>
                  <!-- <input type="email" class="form-control" id="strt" ngModel name="strt_time" placeholder="10:00"> -->
                </div>
          
                <div class="col-md-6 mb-3">
                  <label for="end">End Time:</label>
                  <ngb-timepicker ngModel name="end_time"></ngb-timepicker>
                  <!-- <input type="text" class="form-control" id="end" placeholder="12:00" ngModel name="emd_time" required> -->
                </div>
              </div>
            </div>

            <div class="d-flex justify-content-center">
              <button type="submit" class="btn btn-primary">Update</button>
            </div>
          </form>
        </div>

      </div>
    </div>
  </div>
</div>
